{"ast":null,"code":"// YOLOPredict.tsx\nexport const YOLOPredict = async imageDataUrl => {\n  const blob = await (await fetch(imageDataUrl)).blob();\n  const formData = new FormData();\n  formData.append('image', blob, 'photo.png');\n  const response = await fetch('http://localhost:5000/predict', {\n    method: 'POST',\n    body: formData\n  });\n  if (!response.ok) throw new Error('バックエンドエラー');\n  const result = await response.json();\n  const imgSrc = `data:image/jpeg;base64,${result.image}`;\n  const labels = Array.isArray(result.labels) ? result.labels : [];\n  const labelString = labels.length > 0 ? labels.join(', ') : '？？？';\n  return {\n    imageSrc: imgSrc,\n    label: labelString,\n    matchedOrders: result.matchedOrders || []\n  };\n};\n_c = YOLOPredict;\nvar _c;\n$RefreshReg$(_c, \"YOLOPredict\");","map":{"version":3,"names":["YOLOPredict","imageDataUrl","blob","fetch","formData","FormData","append","response","method","body","ok","Error","result","json","imgSrc","image","labels","Array","isArray","labelString","length","join","imageSrc","label","matchedOrders","_c","$RefreshReg$"],"sources":["/frontend/src/YOLOPredict.tsx"],"sourcesContent":["// YOLOPredict.tsx\nexport const YOLOPredict = async (imageDataUrl: string) => {\n  const blob = await (await fetch(imageDataUrl)).blob();\n  const formData = new FormData();\n  formData.append('image', blob, 'photo.png');\n\n  const response = await fetch('http://localhost:5000/predict', {\n    method: 'POST',\n    body: formData,\n  });\n\n  if (!response.ok) throw new Error('バックエンドエラー');\n\n  const result = await response.json();\n  const imgSrc = `data:image/jpeg;base64,${result.image}`;\n\n  const labels = Array.isArray(result.labels) ? result.labels : [];\n  const labelString = labels.length > 0 ? labels.join(', ') : '？？？';\n\n  return {\n    imageSrc: imgSrc,\n    label: labelString,\n    matchedOrders: result.matchedOrders || [],\n  };\n};\n"],"mappings":"AAAA;AACA,OAAO,MAAMA,WAAW,GAAG,MAAOC,YAAoB,IAAK;EACzD,MAAMC,IAAI,GAAG,MAAM,CAAC,MAAMC,KAAK,CAACF,YAAY,CAAC,EAAEC,IAAI,CAAC,CAAC;EACrD,MAAME,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEJ,IAAI,EAAE,WAAW,CAAC;EAE3C,MAAMK,QAAQ,GAAG,MAAMJ,KAAK,CAAC,+BAA+B,EAAE;IAC5DK,MAAM,EAAE,MAAM;IACdC,IAAI,EAAEL;EACR,CAAC,CAAC;EAEF,IAAI,CAACG,QAAQ,CAACG,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,WAAW,CAAC;EAE9C,MAAMC,MAAM,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EACpC,MAAMC,MAAM,GAAI,0BAAyBF,MAAM,CAACG,KAAM,EAAC;EAEvD,MAAMC,MAAM,GAAGC,KAAK,CAACC,OAAO,CAACN,MAAM,CAACI,MAAM,CAAC,GAAGJ,MAAM,CAACI,MAAM,GAAG,EAAE;EAChE,MAAMG,WAAW,GAAGH,MAAM,CAACI,MAAM,GAAG,CAAC,GAAGJ,MAAM,CAACK,IAAI,CAAC,IAAI,CAAC,GAAG,KAAK;EAEjE,OAAO;IACLC,QAAQ,EAAER,MAAM;IAChBS,KAAK,EAAEJ,WAAW;IAClBK,aAAa,EAAEZ,MAAM,CAACY,aAAa,IAAI;EACzC,CAAC;AACH,CAAC;AAACC,EAAA,GAvBWzB,WAAW;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}