{"ast":null,"code":"// import React, {useEffect} from 'react';\n\n// const CameraComponent: React.FC = () => {\n//   useEffect(() => {\n//     const video = document.getElementById('video') as HTMLVideoElement;\n\n//     const startCamera = async () => {\n//       try {\n//         const stream = await navigator.mediaDevices.getUserMedia({\n//           video: { facingMode: 'environment' }, // èƒŒé¢ã‚«ãƒ¡ãƒ©\n//           audio: false,\n//         });\n//         video.srcObject = stream;\n//       } catch (err) {\n//         console.error('ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);\n//       }\n//     };\n\n//     startCamera();\n//   }, []);\n\n//   return (\n//     <div>\n//       <video id=\"video\" width=\"640\" height=\"480\" autoPlay playsInline></video>\n//     </div>\n//   );\n// };\n\n// export default CameraComponent;\n\n//K\n// import React, { useEffect, useRef, useState } from 'react';\n\n// const CameraComponent: React.FC = () => {\n//   const videoRef = useRef<HTMLVideoElement | null>(null);     // ã‚«ãƒ¡ãƒ©æ˜ åƒ\n//   const canvasRef = useRef<HTMLCanvasElement | null>(null);   // ã‚­ãƒ£ãƒ—ãƒãƒ£ç”¨\n//   const [imageDataUrl, setImageDataUrl] = useState<string | null>(null); // ç”»åƒè¡¨ç¤ºç”¨\n\n//   // ã‚«ãƒ¡ãƒ©èµ·å‹•å‡¦ç†\n//   useEffect(() => {\n//     const startCamera = async () => {\n//       try {\n//         const stream = await navigator.mediaDevices.getUserMedia({\n//           video: { facingMode: 'environment' }, // èƒŒé¢ã‚«ãƒ¡ãƒ©\n//           audio: false,\n//         });\n//         if (videoRef.current) {\n//           videoRef.current.srcObject = stream;\n//         }\n//       } catch (err) {\n//         console.error('ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);\n//       }\n//     };\n\n//     startCamera();\n//   }, []);\n\n//   // ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã\n//   const handleCapture = () => {\n//     const video = videoRef.current;\n//     const canvas = canvasRef.current;\n//     if (!video || !canvas) return;\n\n//     const context = canvas.getContext('2d');\n//     if (!context) return;\n\n//     canvas.width = video.videoWidth;\n//     canvas.height = video.videoHeight;\n//     context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n//     const dataUrl = canvas.toDataURL('image/png'); // ç”»åƒãƒ‡ãƒ¼ã‚¿å–å¾—\n//     setImageDataUrl(dataUrl); // imgã‚¿ã‚°ã«åæ˜ \n//   };\n\n//   return (\n//     <div>\n//       <video ref={videoRef} width=\"640\" height=\"480\" autoPlay playsInline />\n//       <br />\n//       <button onClick={handleCapture}>ğŸ“¸ ã‚·ãƒ£ãƒƒã‚¿ãƒ¼</button>\n//       <canvas ref={canvasRef} style={{ display: 'none' }} />\n//       <br />\n//       {imageDataUrl && (\n//         <div>\n//           <img src={imageDataUrl} alt=\"æ’®å½±ç”»åƒ\" width=\"640\" />\n//           <br />\n//           <a href={imageDataUrl} download=\"captured.png\">ç”»åƒã‚’ä¿å­˜</a>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default CameraComponent;","map":{"version":3,"names":[],"sources":["/frontend/src/camera_image.tsx"],"sourcesContent":["// import React, {useEffect} from 'react';\n\n// const CameraComponent: React.FC = () => {\n//   useEffect(() => {\n//     const video = document.getElementById('video') as HTMLVideoElement;\n\n//     const startCamera = async () => {\n//       try {\n//         const stream = await navigator.mediaDevices.getUserMedia({\n//           video: { facingMode: 'environment' }, // èƒŒé¢ã‚«ãƒ¡ãƒ©\n//           audio: false,\n//         });\n//         video.srcObject = stream;\n//       } catch (err) {\n//         console.error('ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);\n//       }\n//     };\n\n//     startCamera();\n//   }, []);\n\n//   return (\n//     <div>\n//       <video id=\"video\" width=\"640\" height=\"480\" autoPlay playsInline></video>\n//     </div>\n//   );\n// };\n\n// export default CameraComponent;\n\n//K\n// import React, { useEffect, useRef, useState } from 'react';\n\n// const CameraComponent: React.FC = () => {\n//   const videoRef = useRef<HTMLVideoElement | null>(null);     // ã‚«ãƒ¡ãƒ©æ˜ åƒ\n//   const canvasRef = useRef<HTMLCanvasElement | null>(null);   // ã‚­ãƒ£ãƒ—ãƒãƒ£ç”¨\n//   const [imageDataUrl, setImageDataUrl] = useState<string | null>(null); // ç”»åƒè¡¨ç¤ºç”¨\n\n//   // ã‚«ãƒ¡ãƒ©èµ·å‹•å‡¦ç†\n//   useEffect(() => {\n//     const startCamera = async () => {\n//       try {\n//         const stream = await navigator.mediaDevices.getUserMedia({\n//           video: { facingMode: 'environment' }, // èƒŒé¢ã‚«ãƒ¡ãƒ©\n//           audio: false,\n//         });\n//         if (videoRef.current) {\n//           videoRef.current.srcObject = stream;\n//         }\n//       } catch (err) {\n//         console.error('ã‚«ãƒ¡ãƒ©ã®èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ:', err);\n//       }\n//     };\n\n//     startCamera();\n//   }, []);\n\n//   // ã‚·ãƒ£ãƒƒã‚¿ãƒ¼ã‚’æŠ¼ã—ãŸã¨ã\n//   const handleCapture = () => {\n//     const video = videoRef.current;\n//     const canvas = canvasRef.current;\n//     if (!video || !canvas) return;\n\n//     const context = canvas.getContext('2d');\n//     if (!context) return;\n\n//     canvas.width = video.videoWidth;\n//     canvas.height = video.videoHeight;\n//     context.drawImage(video, 0, 0, canvas.width, canvas.height);\n\n//     const dataUrl = canvas.toDataURL('image/png'); // ç”»åƒãƒ‡ãƒ¼ã‚¿å–å¾—\n//     setImageDataUrl(dataUrl); // imgã‚¿ã‚°ã«åæ˜ \n//   };\n\n//   return (\n//     <div>\n//       <video ref={videoRef} width=\"640\" height=\"480\" autoPlay playsInline />\n//       <br />\n//       <button onClick={handleCapture}>ğŸ“¸ ã‚·ãƒ£ãƒƒã‚¿ãƒ¼</button>\n//       <canvas ref={canvasRef} style={{ display: 'none' }} />\n//       <br />\n//       {imageDataUrl && (\n//         <div>\n//           <img src={imageDataUrl} alt=\"æ’®å½±ç”»åƒ\" width=\"640\" />\n//           <br />\n//           <a href={imageDataUrl} download=\"captured.png\">ç”»åƒã‚’ä¿å­˜</a>\n//         </div>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default CameraComponent;\n\n"],"mappings":"AAAA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}